<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Untitled</title>
    

  </head>
    
  <body>
  <!doctype html>
<html lang="ar" dir="rtl" class="h-full">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Texas Burger</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&amp;display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }

    * {
      font-family: 'Cairo', sans-serif;
    }

    .modal-overlay {
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(4px);
    }

    .modal-slide {
      animation: slideUp 0.3s ease-out;
    }

    @keyframes slideUp {
      from {
        transform: translateY(100%);
      }

      to {
        transform: translateY(0);
      }
    }

    .checkbox-custom {
      width: 20px;
      height: 20px;
      border: 2px solid #ddd;
      border-radius: 5px;
      background: white;
      cursor: pointer;
      position: relative;
      flex-shrink: 0;
    }

    .checkbox-custom:checked {
      background: #DC2626;
      border-color: #DC2626;
    }

    .checkbox-custom:checked::after {
      content: 'âœ“';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 12px;
      font-weight: bold;
    }

    .out-of-stock-badge {
      position: absolute;
      top: 8px;
      right: 8px;
      background: linear-gradient(135deg, #DC2626 0%, #991B1B 100%);
      color: white;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 700;
      box-shadow: 0 2px 8px rgba(220, 38, 38, 0.4);
      z-index: 10;
    }

    .best-seller-badge {
      position: absolute;
      top: 8px;
      left: 8px;
      background: linear-gradient(135deg, #92400E 0%, #78350F 100%);
      color: white;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 700;
      box-shadow: 0 2px 8px rgba(146, 64, 14, 0.4);
      z-index: 10;
    }

    .product-unavailable {
      opacity: 0.5;
      position: relative;
    }

    .product-unavailable::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.1);
      border-radius: 16px;
      pointer-events: none;
    }

    .admin-gear {
      position: fixed;
      bottom: 20px;
      left: 20px;
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, #374151 0%, #1F2937 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      transition: transform 0.3s ease;
      z-index: 40;
    }

    .admin-gear:hover {
      transform: scale(1.1) rotate(90deg);
    }

    .fade-in {
      animation: fadeIn 0.3s ease-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    .loading-spinner {
      border: 3px solid #f3f4f6;
      border-top: 3px solid #DC2626;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }
  </style>
  <style>
    @view-transition {
      navigation: auto;
    }
  </style>
</head>

<body class="h-full" style="background: #F9FAFB;">
  <div class="h-full w-full flex flex-col overflow-auto">
    <div class="w-full max-w-lg mx-auto">
      <header class="sticky top-0 z-50 bg-white shadow-md">
        <div class="px-5 py-4">
          <div class="flex items-center justify-between"><button id="openCartBtn" class="relative w-14 h-14 rounded-full flex items-center justify-center" style="background: rgba(220,38,38,0.1);"> <span class="text-3xl">ğŸ›’</span> <span id="cartCount" class="absolute -top-1 -right-1 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold hidden" style="background: #DC2626; color: white;">0</span> </button> <img src="https://i.imgur.com/cUjEbYh.png" alt="Texas Burger" class="w-28 h-28 object-contain">
            <div class="w-14"></div>
          </div>
        </div>
      </header>
      <div class="w-full cursor-pointer" onclick="scrollToTwister()"><img src="https://i.imgur.com/fcjfZ8C.png" alt="Twister Banner" class="w-full object-cover" loading="lazy" onerror="this.style.display='none';">
      </div>
      <main id="menuList" class="px-5 py-4"></main>
      <footer class="bg-white mt-auto border-t shadow-lg">
        <div class="px-5 py-6 text-center">
          <p class="text-sm text-gray-500 mb-2">Ù„Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ø§Ø³ØªÙØ³Ø§Ø±</p><a id="phoneDisplay" href="tel:0791825625" class="block text-2xl font-bold mb-4" style="color: #DC2626;"> 0791825625 </a> <a href="https://wa.me/962791825625" target="_blank" rel="noopener noreferrer" class="block w-full py-4 rounded-full text-white font-bold text-lg text-center" style="background: linear-gradient(135deg, #DC2626 0%, #EF4444 100%);"> Ø§Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ ğŸ“± </a>
        </div>
      </footer>
      <div class="admin-gear" onclick="showAdminLogin()" title="Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…">
        âš™ï¸
      </div>
      <div id="adminLoginModal" class="fixed inset-0 z-50 hidden">
        <div class="modal-overlay absolute inset-0" onclick="hideAdminLogin()"></div>
        <div class="modal-slide absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl shadow-2xl">
          <div class="px-6 py-6">
            <div class="flex items-center justify-between mb-6">
              <h3 class="text-2xl font-bold" style="color: #1F2937;">ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h3><button onclick="hideAdminLogin()" class="w-11 h-11 rounded-full flex items-center justify-center" style="background: #F3F4F6;"> <span class="text-3xl leading-none">Ã—</span> </button>
            </div>
            <div class="mb-6"><label for="adminPassword" class="block font-semibold mb-2 text-sm">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ</label> <input type="password" id="adminPassword" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ" class="w-full px-4 py-3 rounded-lg border-2 text-base" style="border-color: #E5E7EB;">
            </div><button onclick="checkAdminPassword()" class="w-full py-4 rounded-full text-white font-bold text-lg" style="background: linear-gradient(135deg, #1F2937 0%, #374151 100%);"> Ø¯Ø®ÙˆÙ„ ğŸ”“ </button>
          </div>
        </div>
      </div>
      <div id="adminPanelModal" class="fixed inset-0 z-50 hidden">
        <div class="modal-overlay absolute inset-0" onclick="hideAdminPanel()"></div>
        <div class="modal-slide absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl shadow-2xl" style="max-height: 85%;">
          <div class="overflow-y-auto" style="max-height: 85vh;">
            <div class="sticky top-0 bg-white z-10 px-5 pt-5 pb-4 border-b">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-2xl font-bold" style="color: #1F2937;">âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h3><button onclick="hideAdminPanel()" class="w-11 h-11 rounded-full flex items-center justify-center" style="background: #F3F4F6;"> <span class="text-3xl leading-none">Ã—</span> </button>
              </div>
              <p class="text-sm text-gray-600">Ø¥Ø¯Ø§Ø±Ø© Ø­Ø§Ù„Ø© ØªÙˆÙØ± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</p>
            </div>
            <div id="adminProductsList" class="px-5 py-5">
              <div class="flex justify-center py-8">
                <div class="loading-spinner"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="productModal" class="fixed inset-0 z-50 hidden">
        <div class="modal-overlay absolute inset-0" onclick="hideProductModal()"></div>
        <div class="modal-slide absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl shadow-2xl" style="max-height: 70%;">
          <div class="overflow-y-auto" style="max-height: 70vh;">
            <div class="sticky top-0 bg-white z-10 px-4 pt-3 pb-2 border-b">
              <div class="flex items-start justify-between">
                <div class="flex-1">
                  <h3 id="productName" class="text-base font-bold mb-1"></h3>
                  <p id="productPrice" class="text-sm font-bold" style="color: #DC2626;"></p>
                </div><button onclick="hideProductModal()" class="w-8 h-8 rounded-full flex items-center justify-center" style="background: #F3F4F6;"> <span class="text-xl leading-none">Ã—</span> </button>
              </div>
            </div>
            <div id="productOptions" class="px-4 py-3"></div>
            <div class="px-4 pb-3"><button onclick="addItemToCart()" class="w-full py-2.5 rounded-full text-white font-bold text-sm" style="background: linear-gradient(135deg, #DC2626 0%, #EF4444 100%);"> Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© â• </button>
            </div>
          </div>
        </div>
      </div>
      <div id="cartModal" class="fixed inset-0 z-50 hidden">
        <div class="modal-overlay absolute inset-0" onclick="hideCart()"></div>
        <div class="modal-slide absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl shadow-2xl" style="max-height: 90%;">
          <div class="flex flex-col" style="height: 90vh; max-height: 90vh;">
            <div class="flex-shrink-0 bg-white z-10 px-5 pt-5 pb-4 border-b">
              <div class="flex items-center justify-between">
                <h3 class="text-lg font-bold">Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ğŸ›’</h3><button onclick="hideCart()" class="w-11 h-11 rounded-full flex items-center justify-center" style="background: #F3F4F6;"> <span class="text-3xl leading-none">Ã—</span> </button>
              </div>
            </div>
            <div class="flex-1 overflow-y-auto">
              <div id="cartContent" class="px-5 py-4"></div>
              <div id="checkoutForm" class="px-5 pb-4 space-y-3 hidden">
                <div class="bg-gray-50 rounded-xl p-3"><label class="block font-semibold mb-2 text-sm">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</label>
                  <div class="grid grid-cols-2 gap-2"><label id="deliveryBtn" class="flex items-center justify-center p-2 rounded-lg cursor-pointer border-2 text-sm" style="border-color: #DC2626; background: white;" onclick="selectDelivery()"> <input type="radio" name="deliveryType" value="delivery" checked class="hidden"> <span class="font-semibold" style="color: #DC2626;">Ù…Ø¹ ØªÙˆØµÙŠÙ„</span> </label> <label id="pickupBtn" class="flex items-center justify-center p-2 rounded-lg cursor-pointer border-2 text-sm" style="border-color: #E5E7EB; background: #F9FAFB;" onclick="selectPickup()"> <input type="radio" name="deliveryType" value="pickup" class="hidden"> <span class="font-semibold" style="color: #6B7280;">Ø§Ø³ØªÙ„Ø§Ù…</span> </label>
                  </div>
                </div>
                <div><label for="custName" class="block font-semibold mb-1 text-xs">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label> <input type="text" id="custName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù…" class="w-full px-2.5 py-1.5 rounded-lg border-2 text-sm" style="border-color: #E5E7EB;">
                </div>
                <div><label for="custPhone" class="block font-semibold mb-1 text-xs">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label> <input type="tel" id="custPhone" placeholder="07XXXXXXXX" class="w-full px-2.5 py-1.5 rounded-lg border-2 text-sm" style="border-color: #E5E7EB;">
                </div>
                <div id="addressField"><label for="custAddress" class="block font-semibold mb-1 text-xs">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„</label> <input type="text" id="custAddress" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„" class="w-full px-2.5 py-1.5 rounded-lg border-2 text-sm" style="border-color: #E5E7EB;">
                </div><button onclick="sendWhatsAppOrder()" class="w-full py-2.5 rounded-full text-white font-bold text-sm" style="background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);"> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ ğŸ“± </button>
              </div>
            </div>
            <div class="flex-shrink-0 bg-white px-4 py-2.5 border-t shadow-2xl">
              <div class="flex items-center justify-between"><span class="text-base font-bold">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ</span> <span id="totalPrice" class="text-xl font-bold" style="color: #DC2626;">0.00 Ø¯.Ø£</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    const MENU = {
      beef: [{
          id: 'b1',
          name: 'ÙƒÙ„Ø§Ø³ÙŠÙƒ Ø¨Ø±Ø¬Ø±',
          sizes: [{
            w: '100Øº',
            p: 2.00
          }, {
            w: '200Øº',
            p: 3.00
          }, {
            w: '300Øº',
            p: 3.75
          }],
          img: 'https://i.imgur.com/QV5JeIT.png'
        },
        {
          id: 'b2',
          name: 'Ù…Ø´Ø±ÙˆÙ… Ø¨Ø±Ø¬Ø±',
          sizes: [{
            w: '100Øº',
            p: 2.75
          }, {
            w: '200Øº',
            p: 3.75
          }, {
            w: '300Øº',
            p: 4.50
          }],
          img: 'https://i.imgur.com/wMmCr2Z.png'
        },
        {
          id: 'b3',
          name: 'Ø¨Ø±Ø¬Ø± Ù…Ø¯Ø®Ù†',
          sizes: [{
            w: '100Øº',
            p: 2.75
          }, {
            w: '200Øº',
            p: 3.75
          }, {
            w: '300Øº',
            p: 4.50
          }],
          img: 'https://i.imgur.com/wAVOr9g.png'
        },
        {
          id: 'b4',
          name: 'ØªØ´ÙŠØ² Ø¨Ø±Ø¬Ø±',
          sizes: [{
            w: '100Øº',
            p: 2.75
          }, {
            w: '200Øº',
            p: 3.75
          }, {
            w: '300Øº',
            p: 4.50
          }],
          img: 'https://i.imgur.com/jjzgR38.png'
        },
        {
          id: 'b5',
          name: 'Ù…ÙƒØ³ÙŠÙƒØ§Ù† Ø­Ø§Ø±',
          sizes: [{
            w: '100Øº',
            p: 2.50
          }, {
            w: '200Øº',
            p: 3.50
          }, {
            w: '300Øº',
            p: 4.25
          }],
          img: 'https://i.imgur.com/C2dBbXg.png'
        }
      ],
      chicken: [{
          id: 'c1',
          name: 'Ø¯Ø¬Ø§Ø¬ ÙƒØ±ÙŠØ³Ø¨ÙŠ',
          p: 2.50,
          img: 'https://i.imgur.com/AgdxoD4.png',
          needsFlavor: true
        },
        {
          id: 'c2',
          name: 'Ø¯Ø¬Ø§Ø¬ Ø³ØªÙŠÙƒ',
          p: 2.50,
          img: 'https://i.imgur.com/oo2fuWi.png',
          needsFlavor: true
        }
      ],
      snacks: [{
          id: 's1',
          name: 'Ù‡ÙˆØª Ø¯ÙˆØº Ø¨Ù‚Ø±ÙŠ',
          p: 1.50,
          img: 'https://i.imgur.com/5VVjrqP.png'
        },
        {
          id: 's2',
          name: 'Ø²ÙŠÙ†Ø¬Ø±',
          p: 1.75,
          img: 'https://i.imgur.com/xNmmLtX.png'
        },
        {
          id: 's3',
          name: '10 Ø£Ø¬Ù†Ø­Ø© Ø¯Ø¬Ø§Ø¬',
          p: 2.50,
          img: 'https://i.imgur.com/5rSsYq7.png',
          needsWingsFlavor: true
        },
        {
          id: 's4',
          name: '10 Ù‚Ø·Ø¹ Ø¨ÙˆÙ†Ù„Ø³',
          p: 3.00,
          img: 'https://i.imgur.com/X9zhW5x.png',
          needsWingsFlavor: true
        },
        {
          id: 's5',
          name: 'Ø§Ù„ÙØ§Ù‡ÙŠØªØ§ ØªÙƒØ³Ø§Ø³',
          p: 2.00,
          img: 'https://i.imgur.com/grtmv3c.png'
        },
        {
          id: 's6',
          name: 'ØªÙˆÙŠØ³ØªØ± Ø±Ø§Ø¨',
          p: 2.25,
          img: 'https://i.imgur.com/HXC2SmZ.png',
          needsTwisterFlavor: true
        }
      ],
      fries: [{
          id: 'f1',
          name: 'Ø¨Ø·Ø§Ø·Ø§ ØµØºÙŠØ±Ø©',
          p: 0.50,
          img: 'https://i.imgur.com/j3b6L6B.png'
        },
        {
          id: 'f2',
          name: 'Ø¨Ø·Ø§Ø·Ø§ Ù…Ø¹ Ø¬Ø¨Ù†Ø©',
          p: 0.75,
          img: 'https://i.imgur.com/vxp2FfL.png'
        },
        {
          id: 'f3',
          name: 'Ø¨Ø·Ø§Ø·Ø§ Ù…ÙƒØ³ÙŠÙƒÙŠØ© Ù…Ø¹ Ù‡Ø§Ù„Ø¨ÙŠÙ†Ùˆ',
          p: 1.00,
          img: 'https://i.imgur.com/pMKsJS6.png'
        },
        {
          id: 'f4',
          name: 'Ø¨Ø·Ø§Ø·Ø§ ÙƒÙŠÙˆØ¨ Ù…Ø¹ Ø²Ù†Ø¬Ø±',
          p: 1.75,
          img: 'https://i.imgur.com/TezGS3b.png'
        },
        {
          id: 'f5',
          name: 'Ø­Ù„Ù‚Ø§Øª Ø¨ØµÙ„',
          p: 1.00,
          img: 'https://i.imgur.com/EcntbfN.png'
        }
      ],
      drinks: [{
          id: 'd1',
          name: 'ÙƒÙ†Ø²Ø© ÙƒÙˆÙ„Ø§',
          p: 0.35,
          img: 'https://i.imgur.com/1yX5lwD.png'
        },
        {
          id: 'd2',
          name: 'ÙƒÙ†Ø²Ø© ÙƒÙˆÙ„Ø§ Ù…Ø¹ Ø«Ù„Ø¬',
          p: 0.50,
          img: 'https://i.imgur.com/lNM1qvc.png'
        }
      ]
    };
    let myCart = [];
    let currentProduct = null;
    let currentSizeIndex = null;
    let availabilityData = [];
    const CONFIG = {
      phone_number: '0791825625'
    };
    const ADMIN_PASSWORD = 'texas burger';
    const dataHandler = {
      onDataChanged(data) {
        availabilityData = data;
        displayMenu();
        if (document.getElementById('adminPanelModal').classList.contains('hidden') === false) {
          displayAdminProducts();
        }
      }
    };
    async function initDataSDK() {
      if (window.dataSdk) {
        const result = await window.dataSdk.init(dataHandler);
        if (!result.isOk) {
          console.error('Failed to initialize Data SDK');
        }
      }
    }

    function isProductAvailable(productId) {
      const record = availabilityData.find(r => r.product_id === productId);
      return record ? record.is_available : true;
    }

    function isProductBestSeller(productId) {
      const record = availabilityData.find(r => r.product_id === productId);
      return record ? record.is_best_seller : false;
    }

    function showMessage(text, error = false) {
      const div = document.createElement('div');
      div.className = 'fixed left-1/2 top-24 px-6 py-4 rounded-full shadow-2xl font-bold z-50 fade-in';
      div.style.transform = 'translateX(-50%)';
      div.style.background = error ? '#DC2626' : 'white';
      div.style.color = error ? 'white' : '#1F2937';
      div.textContent = text;
      document.body.appendChild(div);
      setTimeout(() => div.remove(), 2500);
    }

    function scrollToTwister() {
      const allItems = Object.values(MENU).flat();
      const twisterIndex = allItems.findIndex(item => item.id === 's6');
      if (twisterIndex !== -1) {
        const twisterElement = document.querySelectorAll('#menuList > div')[twisterIndex];
        if (twisterElement) {
          twisterElement.scrollIntoView({
            behavior: 'smooth',
            block: 'center'
          });
        }
      }
    }

    function displayMenu() {
      const list = document.getElementById('menuList');
      const allItems = Object.values(MENU).flat();
      list.innerHTML = allItems.map(item => {
        const available = isProductAvailable(item.id);
        const bestSeller = isProductBestSeller(item.id);
        const unavailableClass = available ? '' : 'product-unavailable';
        const unavailableBadge = available ? '' : '<div class="out-of-stock-badge">ØºÙŠØ± Ù…ØªÙˆÙØ±</div>';
        const bestSellerBadge = bestSeller ? '<div class="best-seller-badge">Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø¨ÙŠØ¹Ø§Ù‹ ğŸ”¥</div>' : '';
        if (item.sizes) {
          return `
                        <div class="bg-white rounded-2xl p-4 mb-4 shadow-sm relative ${unavailableClass}">
                            ${unavailableBadge}
                            ${bestSellerBadge}
                            <div class="flex items-start gap-3 mb-4">
                                <img src="${item.img}" alt="${item.name}" class="w-24 h-24 object-contain rounded-xl">
                                <div class="flex-1">
                                    <h3 class="font-bold text-xl mb-1">${item.name}</h3>
                                </div>
                            </div>
                            <div class="grid grid-cols-3 gap-2">
                                ${item.sizes.map((sz, i) => `
                                    <button onclick="${available ? `showProductModal('${item.id}', ${i})` : `showMessage('Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠØ§Ù‹', true)`}" class="rounded-xl py-3 text-center border-2" style="border-color: #E5E7EB; background: #F9FAFB;">
                                        <div class="text-sm mb-1 font-semibold">${sz.w}</div>
                                        <div class="font-bold text-lg" style="color: #DC2626;">${sz.p.toFixed(2)}</div>
                                    </button>
                                `).join('')}
                            </div>
                        </div>
                    `;
        } else {
          return `
                        <div onclick="${available ? `showProductModal('${item.id}')` : `showMessage('Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠØ§Ù‹', true)`}" class="bg-white rounded-2xl p-4 mb-4 shadow-sm cursor-pointer relative ${unavailableClass}">
                            ${unavailableBadge}
                            ${bestSellerBadge}
                            <div class="flex items-center gap-3">
                                <img src="${item.img}" alt="${item.name}" class="w-24 h-24 object-contain rounded-xl">
                                <div class="flex-1">
                                    <h3 class="font-bold text-lg mb-2">${item.name}</h3>
                                    <p class="text-xl font-bold" style="color: #DC2626;">${item.p.toFixed(2)} Ø¯.Ø£</p>
                                </div>
                                <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background: rgba(220,38,38,0.1); color: #DC2626;">
                                    <span class="text-2xl font-bold">+</span>
                                </div>
                            </div>
                        </div>
                    `;
        }
      }).join('');
    }

    function showAdminLogin() {
      document.getElementById('adminLoginModal').classList.remove('hidden');
      document.getElementById('adminPassword').value = '';
    }

    function hideAdminLogin() {
      document.getElementById('adminLoginModal').classList.add('hidden');
    }

    function checkAdminPassword() {
      const password = document.getElementById('adminPassword').value;
      if (password === ADMIN_PASSWORD) {
        hideAdminLogin();
        showAdminPanel();
      } else {
        showMessage('Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­', true);
      }
    }

    function showAdminPanel() {
      document.getElementById('adminPanelModal').classList.remove('hidden');
      displayAdminProducts();
    }

    function hideAdminPanel() {
      document.getElementById('adminPanelModal').classList.add('hidden');
    }

    function displayAdminProducts() {
      const container = document.getElementById('adminProductsList');
      const allItems = Object.values(MENU).flat();
      container.innerHTML = allItems.map(item => {
        const available = isProductAvailable(item.id);
        const bestSeller = isProductBestSeller(item.id);
        return `
                    <div class="bg-gray-50 rounded-xl p-4 mb-3">
                        <div class="flex items-center gap-3 mb-3">
                            <img src="${item.img}" alt="${item.name}" class="w-16 h-16 object-contain rounded-lg">
                            <div class="flex-1">
                                <h4 class="font-bold text-base mb-1">${item.name}</h4>
                                <p class="text-sm text-gray-600">${item.id}</p>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-3">
                            <div class="flex items-center justify-between bg-white rounded-lg p-3">
                                <span class="text-sm font-semibold">Ù…ØªÙˆÙØ±</span>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" ${available ? 'checked' : ''} onchange="toggleProductAvailability('${item.id}', this.checked)" class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:right-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"></div>
                                </label>
                            </div>
                            <div class="flex items-center justify-between bg-white rounded-lg p-3">
                                <span class="text-sm font-semibold">Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø¨ÙŠØ¹Ø§Ù‹ ğŸ”¥</span>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" ${bestSeller ? 'checked' : ''} onchange="toggleBestSeller('${item.id}', this.checked)" class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:right-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-700"></div>
                                </label>
                            </div>
                        </div>
                    </div>
                `;
      }).join('');
    }
    async function toggleProductAvailability(productId, isAvailable) {
      const existingRecord = availabilityData.find(r => r.product_id === productId);
      if (existingRecord) {
        existingRecord.is_available = isAvailable;
        const result = await window.dataSdk.update(existingRecord);
        if (result.isOk) {
          showMessage(isAvailable ? 'ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ âœ“' : 'ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ âœ“');
        } else {
          showMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«', true);
        }
      } else {
        const result = await window.dataSdk.create({
          product_id: productId,
          is_available: isAvailable,
          is_best_seller: false
        });
        if (result.isOk) {
          showMessage(isAvailable ? 'ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ âœ“' : 'ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ âœ“');
        } else {
          showMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸', true);
        }
      }
    }
    async function toggleBestSeller(productId, isBestSeller) {
      const existingRecord = availabilityData.find(r => r.product_id === productId);
      if (existingRecord) {
        existingRecord.is_best_seller = isBestSeller;
        const result = await window.dataSdk.update(existingRecord);
        if (result.isOk) {
          showMessage(isBestSeller ? 'ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ø£ÙƒØ«Ø± Ù…Ø¨ÙŠØ¹Ø§Ù‹ ğŸ”¥' : 'ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø¨ÙŠØ¹Ø§Ù‹');
        } else {
          showMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«', true);
        }
      } else {
        const result = await window.dataSdk.create({
          product_id: productId,
          is_available: true,
          is_best_seller: isBestSeller
        });
        if (result.isOk) {
          showMessage(isBestSeller ? 'ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ø£ÙƒØ«Ø± Ù…Ø¨ÙŠØ¹Ø§Ù‹ ğŸ”¥' : 'ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø¨ÙŠØ¹Ø§Ù‹');
        } else {
          showMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸', true);
        }
      }
    }

    function showProductModal(productId, sizeIdx = null) {
      const product = Object.values(MENU).flat().find(p => p.id === productId);
      if (!product) return;
      currentProduct = product;
      currentSizeIndex = sizeIdx;
      document.getElementById('productName').textContent = product.name;
      if (product.sizes && sizeIdx !== null) {
        const size = product.sizes[sizeIdx];
        document.getElementById('productPrice').textContent = `${size.p.toFixed(2)} Ø¯.Ø£ - ${size.w}`;
      } else {
        document.getElementById('productPrice').textContent = `${product.p.toFixed(2)} Ø¯.Ø£`;
      }
      const isWings = ['s3', 's4'].includes(product.id);
      const isDrink = product.id.startsWith('d');
      const isFries = ['f1', 'f2', 'f3', 'f4'].includes(product.id);
      const hasMeal = !isWings && !isDrink && !isFries;
      const hasCheese = product.id.startsWith('b') || product.id.startsWith('c') || ['s1', 's2', 's5'].includes(product.id);
      const hasSauce = product.id.startsWith('b') || product.id.startsWith('c');
      const hasDrinkOption = !isDrink;
      let html = '';
      if (currentProduct.needsWingsFlavor) {
        html += `
                    <div class="bg-gray-50 rounded-lg p-2.5 mb-2">
                        <div class="font-bold mb-1.5 text-xs">Ø§Ø®ØªØ± Ø§Ù„Ù†ÙƒÙ‡Ø© <span style="color: #DC2626;">*</span></div>
                        <div class="space-y-1">
                            ${['Ø¨Ø§Ø±Ø¨ÙƒÙŠÙˆ', 'Ø¨ÙˆÙØ§Ù„Ùˆ', 'Ø¯Ø§ÙŠÙ†Ø§Ù…ÙŠØª', 'Ø±Ø§Ù†Ø´', 'Ø³ÙˆÙŠØª ØªØ´ÙŠÙ„ÙŠ'].map((flavor, idx) => `
                                <label class="flex items-center justify-between p-1.5 rounded-lg bg-white cursor-pointer border-2 wings-flavor-option" style="border-color: ${idx === 0 ? '#DC2626' : '#E5E7EB'};">
                                    <span class="font-semibold text-xs">${flavor}</span>
                                    <input type="radio" name="wingsFlavor" value="${flavor}" ${idx === 0 ? 'checked' : ''} class="w-3.5 h-3.5" style="accent-color: #DC2626;">
                                </label>
                            `).join('')}
                        </div>
                    </div>
                `;
        html += `
                    <div class="bg-gray-50 rounded-lg p-2.5 mb-2">
                        <div class="font-bold mb-1.5 text-xs">Ø¹Ù„Ø¨ Ø§Ù„ØµÙˆØµ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</div>
                        <div class="space-y-1">
                            ${['Ø¨Ø§Ø±Ø¨ÙƒÙŠÙˆ', 'Ø¨ÙˆÙØ§Ù„Ùˆ', 'Ø¯Ø§ÙŠÙ†Ø§Ù…ÙŠØª', 'Ø±Ø§Ù†Ø´', 'Ø³ÙˆÙŠØª ØªØ´ÙŠÙ„ÙŠ'].map(s => `
                                <label class="flex items-center justify-between p-1.5 rounded-lg bg-white cursor-pointer border-2" style="border-color: #E5E7EB;">
                                    <span class="font-semibold text-xs">${s}</span>
                                    <div class="flex items-center gap-1.5">
                                        <span class="text-xs font-bold" style="color: #DC2626;">+0.25 Ø¯.Ø£</span>
                                        <input type="checkbox" class="checkbox-custom" data-sauce="${s}">
                                    </div>
                                </label>
                            `).join('')}
                        </div>
                    </div>
                `;
      }
      if (currentProduct.needsFlavor) {
        html += `
                    <div class="bg-gray-50 rounded-lg p-2.5 mb-2">
                        <div class="font-bold mb-1.5 text-xs">Ø§Ø®ØªØ± Ø§Ù„Ù†ÙƒÙ‡Ø© <span style="color: #DC2626;">*</span></div>
                        <div class="space-y-1">
                            ${['ÙƒÙ„Ø§Ø³ÙŠÙƒ', 'Ù…Ø¯Ø®Ù†', 'Ù…Ø§Ø´Ø±ÙˆÙ…', 'Ù…ÙƒØ³ÙŠÙƒØ§Ù†'].map((flavor, idx) => `
                                <label class="flex items-center justify-between p-1.5 rounded-lg bg-white cursor-pointer border-2 chicken-flavor-option" style="border-color: ${idx === 0 ? '#DC2626' : '#E5E7EB'};">
                                    <span class="font-semibold text-xs">${flavor}</span>
                                    <input type="radio" name="chickenFlavor" value="${flavor}" ${idx === 0 ? 'checked' : ''} class="w-3.5 h-3.5" style="accent-color: #DC2626;">
                                </label>
                            `).join('')}
                        </div>
                    </div>
                `;
      }
      if (currentProduct.needsTwisterFlavor) {
        html += `
                    <div class="bg-gray-50 rounded-lg p-2.5 mb-2">
                        <div class="font-bold mb-1.5 text-xs">Ø§Ø®ØªØ± Ø§Ù„Ù†ÙƒÙ‡Ø© <span style="color: #DC2626;">*</span></div>
                        <div class="space-y-1">
                            ${['ÙƒÙ„Ø§Ø³ÙŠÙƒ', 'Ø¯Ø§ÙŠÙ†Ø§Ù…ÙŠØª', 'Ù…Ø§ÙŠÙˆ Ø«ÙˆÙ…'].map((flavor, idx) => `
                                <label class="flex items-center justify-between p-1.5 rounded-lg bg-white cursor-pointer border-2 twister-flavor-option" style="border-color: ${idx === 0 ? '#DC2626' : '#E5E7EB'};">
                                    <span class="font-semibold text-xs">${flavor}</span>
                                    <input type="radio" name="twisterFlavor" value="${flavor}" ${idx === 0 ? 'checked' : ''} class="w-3.5 h-3.5" style="accent-color: #DC2626;">
                                </label>
                            `).join('')}
                        </div>
                    </div>
                `;
      }
      if (isDrink) {
        html += `
                    <div class="bg-gray-50 rounded-lg p-2.5 mb-2">
                        <div class="font-bold mb-1.5 text-xs">Ø§Ø®ØªØ± Ø§Ù„Ù†ÙƒÙ‡Ø© <span style="color: #DC2626;">*</span></div>
                        <div class="space-y-1">
                            ${['ÙƒÙ†Ø²Ø© ÙƒÙˆÙ„Ø§', 'Ø­Ù…Ø¶ÙŠØ§Øª', 'Ø³ÙÙ† Ø§Ø¨', 'Ø¯Ø§ÙŠØª'].map((flavor, idx) => `
                                <label class="flex items-center justify-between p-1.5 rounded-lg bg-white cursor-pointer border-2 drink-flavor-option" style="border-color: ${idx === 0 ? '#DC2626' : '#E5E7EB'};">
                                    <span class="font-semibold text-xs">${flavor}</span>
                                    <input type="radio" name="drinkFlavor" value="${flavor}" ${idx === 0 ? 'checked' : ''} class="w-3.5 h-3.5" style="accent-color: #DC2626;">
                                </label>
                            `).join('')}
                        </div>
                    </div>
                `;
      }
      if (isFries) {
        html += `
                    <div class="bg-gray-50 rounded-lg p-2.5 mb-2">
                        <div class="font-bold mb-1.5 text-xs">Ø¥Ø¶Ø§ÙØ© Ø¹Ù„Ø¨Ø© ØµÙˆØµ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</div>
                        <div class="space-y-1">
                            ${['ØµÙˆØµ Ù…Ø¯Ø®Ù†', 'ØµÙˆØµ ØªÙƒØ³Ø§Ø³', 'ØµÙˆØµ Ø§Ù„Ù…Ø§Ø´Ø±ÙˆÙ…'].map(s => `
                                <label class="flex items-center justify-between p-1.5 rounded-lg bg-white cursor-pointer border-2" style="border-color: #E5E7EB;">
                                    <span class="font-semibold text-xs">${s}</span>
                                    <div class="flex items-center gap-1.5">
                                        <span class="text-xs font-bold" style="color: #DC2626;">+0.25 Ø¯.Ø£</span>
                                        <input type="checkbox" class="checkbox-custom" data-sauce="${s}">
                                    </div>
                                </label>
                            `).join('')}
                        </div>
                    </div>
                `;
      }
      if (hasMeal) {
        html += `
                    <div class="bg-gray-50 rounded-lg p-2.5 mb-2">
                        <label class="flex items-center justify-between cursor-pointer">
                            <div>
                                <div class="font-bold text-xs mb-0.5">ÙˆØ¬Ø¨Ø© ÙƒØ§Ù…Ù„Ø© ğŸŸ</div>
                                <div class="text-xs text-gray-600">Ø¨Ø·Ø§Ø·Ø§ Ù…Ù‚Ø±Ù…Ø´Ø©</div>
                            </div>
                            <div class="flex items-center gap-1.5">
                                <span class="font-bold text-xs" style="color: #DC2626;">+0.50 Ø¯.Ø£</span>
                                <input type="checkbox" id="opt_meal" class="checkbox-custom">
                            </div>
                        </label>
                    </div>
                `;
      }
      if (hasDrinkOption) {
        html += `
                    <div class="bg-gray-50 rounded-lg p-2.5 mb-2">
                        <label class="flex items-center justify-between cursor-pointer">
                            <span class="font-bold text-xs">Ø§Ø¶Ø§ÙØ© Ù…Ø´Ø±ÙˆØ¨ ØºØ§Ø²ÙŠ</span>
                            <div class="flex items-center gap-1.5">
                                <span class="font-bold text-xs" style="color: #DC2626;">+0.35 Ø¯.Ø£</span>
                                <input type="checkbox" id="opt_drink" class="checkbox-custom">
                            </div>
                        </label>
                    </div>
                `;
      }
      if (hasCheese) {
        html += `
                    <div class="bg-gray-50 rounded-lg p-2.5 mb-2">
                        <label class="flex items-center justify-between cursor-pointer">
                            <span class="font-bold text-xs">Ø¥Ø¶Ø§ÙØ© Ø¬Ø¨Ù†Ø© ğŸ§€</span>
                            <div class="flex items-center gap-1.5">
                                <span class="font-bold text-xs" style="color: #DC2626;">+0.25 Ø¯.Ø£</span>
                                <input type="checkbox" id="opt_cheese" class="checkbox-custom">
                            </div>
                        </label>
                    </div>
                `;
      }
      if (hasSauce) {
        html += `
                    <div class="bg-gray-50 rounded-lg p-2.5">
                        <label class="flex items-center justify-between cursor-pointer">
                            <span class="font-bold text-xs">Ø¹Ù„Ø¨Ø© ØµÙˆØµ Ø¬Ø§Ù†Ø¨ÙŠ ğŸ¥«</span>
                            <div class="flex items-center gap-1.5">
                                <span class="font-bold text-xs" style="color: #DC2626;">+0.25 Ø¯.Ø£</span>
                                <input type="checkbox" id="opt_sauce" class="checkbox-custom">
                            </div>
                        </label>
                    </div>
                `;
      }
      document.getElementById('productOptions').innerHTML = html || '<div class="text-center text-gray-400 py-8 text-lg">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®ÙŠØ§Ø±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</div>';
      document.querySelectorAll('input[name="wingsFlavor"]').forEach(radio => {
        radio.addEventListener('change', function() {
          document.querySelectorAll('.wings-flavor-option').forEach(opt => {
            opt.style.borderColor = '#E5E7EB';
          });
          this.closest('.wings-flavor-option').style.borderColor = '#DC2626';
        });
      });
      document.querySelectorAll('input[name="chickenFlavor"]').forEach(radio => {
        radio.addEventListener('change', function() {
          document.querySelectorAll('.chicken-flavor-option').forEach(opt => {
            opt.style.borderColor = '#E5E7EB';
          });
          this.closest('.chicken-flavor-option').style.borderColor = '#DC2626';
        });
      });
      document.querySelectorAll('input[name="twisterFlavor"]').forEach(radio => {
        radio.addEventListener('change', function() {
          document.querySelectorAll('.twister-flavor-option').forEach(opt => {
            opt.style.borderColor = '#E5E7EB';
          });
          this.closest('.twister-flavor-option').style.borderColor = '#DC2626';
        });
      });
      document.querySelectorAll('input[name="drinkFlavor"]').forEach(radio => {
        radio.addEventListener('change', function() {
          document.querySelectorAll('.drink-flavor-option').forEach(opt => {
            opt.style.borderColor = '#E5E7EB';
          });
          this.closest('.drink-flavor-option').style.borderColor = '#DC2626';
        });
      });
      document.getElementById('productModal').classList.remove('hidden');
    }

    function hideProductModal() {
      document.getElementById('productModal').classList.add('hidden');
      currentProduct = null;
      currentSizeIndex = null;
    }

    function addItemToCart() {
      if (!currentProduct) return;
      const withMeal = document.getElementById('opt_meal')?.checked || false;
      const withCheese = document.getElementById('opt_cheese')?.checked || false;
      const withSauce = document.getElementById('opt_sauce')?.checked || false;
      const withDrink = document.getElementById('opt_drink')?.checked || false;
      const extraSauces = [];
      document.querySelectorAll('input[data-sauce]:checked').forEach(cb => {
        extraSauces.push(cb.dataset.sauce);
      });
      let chickenFlavor = '';
      if (currentProduct.needsFlavor) {
        const selectedFlavor = document.querySelector('input[name="chickenFlavor"]:checked');
        chickenFlavor = selectedFlavor ? selectedFlavor.value : 'ÙƒÙ„Ø§Ø³ÙŠÙƒ';
      }
      let twisterFlavor = '';
      if (currentProduct.needsTwisterFlavor) {
        const selectedFlavor = document.querySelector('input[name="twisterFlavor"]:checked');
        twisterFlavor = selectedFlavor ? selectedFlavor.value : 'ÙƒÙ„Ø§Ø³ÙŠÙƒ';
      }
      let wingsFlavor = '';
      if (currentProduct.needsWingsFlavor) {
        const selectedFlavor = document.querySelector('input[name="wingsFlavor"]:checked');
        wingsFlavor = selectedFlavor ? selectedFlavor.value : 'Ø¨Ø§Ø±Ø¨ÙƒÙŠÙˆ';
      }
      let drinkFlavor = '';
      if (currentProduct.id.startsWith('d')) {
        const selectedFlavor = document.querySelector('input[name="drinkFlavor"]:checked');
        drinkFlavor = selectedFlavor ? selectedFlavor.value : 'ÙƒÙ†Ø²Ø© ÙƒÙˆÙ„Ø§';
      }
      let finalPrice = currentProduct.sizes ? currentProduct.sizes[currentSizeIndex].p : currentProduct.p;
      if (withMeal) finalPrice += 0.50;
      if (withCheese) finalPrice += 0.25;
      if (withSauce) finalPrice += 0.25;
      if (withDrink) finalPrice += 0.35;
      finalPrice += extraSauces.length * 0.25;
      const sizeText = currentProduct.sizes ? currentProduct.sizes[currentSizeIndex].w : '';
      myCart.push({
        uid: Date.now(),
        product: currentProduct,
        sizeLabel: sizeText,
        addMeal: withMeal,
        addCheese: withCheese,
        addSauce: withSauce,
        addDrink: withDrink,
        extraSauces: extraSauces,
        chickenFlavor: chickenFlavor,
        twisterFlavor: twisterFlavor,
        wingsFlavor: wingsFlavor,
        drinkFlavor: drinkFlavor,
        totalPrice: finalPrice
      });
      refreshCartBadge();
      hideProductModal();
      showMessage('ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© âœ“');
    }

    function refreshCartBadge() {
      const badge = document.getElementById('cartCount');
      if (myCart.length > 0) {
        badge.textContent = myCart.length;
        badge.classList.remove('hidden');
      } else {
        badge.classList.add('hidden');
      }
    }

    function displayCart() {
      const content = document.getElementById('cartContent');
      const form = document.getElementById('checkoutForm');
      if (myCart.length === 0) {
        content.innerHTML = '<div class="text-center py-20"><div class="text-7xl mb-4 opacity-20">ğŸ›’</div><p class="text-gray-400 text-xl">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p></div>';
        form.classList.add('hidden');
      } else {
        content.innerHTML = myCart.map((item, idx) => `
                    <div class="bg-gray-50 rounded-lg p-2 mb-1.5">
                        <div class="flex items-start gap-1.5">
                            <img src="${item.product.img}" alt="${item.product.name}" class="w-10 h-10 object-contain rounded-md">
                            <div class="flex-1">
                                <h4 class="font-bold text-xs mb-0.5">${item.product.name}${item.sizeLabel ? ' â€¢ ' + item.sizeLabel : ''}</h4>
                                ${item.drinkFlavor || item.twisterFlavor || item.wingsFlavor || item.extraSauces.length || item.addMeal || item.addCheese || item.addSauce || item.addDrink ? `<div class="text-gray-600 mb-0.5" style="font-size: 10px;">
                                    ${item.drinkFlavor ? 'â€¢ Ù†ÙƒÙ‡Ø©: ' + item.drinkFlavor + ' ' : ''}
                                    ${item.twisterFlavor ? 'â€¢ Ù†ÙƒÙ‡Ø©: ' + item.twisterFlavor + ' ' : ''}
                                    ${item.wingsFlavor ? 'â€¢ Ù†ÙƒÙ‡Ø©: ' + item.wingsFlavor + ' ' : ''}
                                    ${item.extraSauces.length ? 'â€¢ ØµÙˆØµ: ' + item.extraSauces.join(', ') + ' ' : ''}
                                    ${item.addMeal ? 'â€¢ ÙˆØ¬Ø¨Ø© ' : ''}
                                    ${item.addCheese ? 'â€¢ Ø¬Ø¨Ù†Ø© ' : ''}
                                    ${item.addSauce ? 'â€¢ ØµÙˆØµ ' : ''}
                                    ${item.addDrink ? 'â€¢ Ù…Ø´Ø±ÙˆØ¨ ' : ''}
                                </div>` : ''}
                                <p class="text-sm font-bold" style="color: #DC2626;">${item.totalPrice.toFixed(2)} Ø¯.Ø£</p>
                            </div>
                            <button onclick="deleteCartItem(${idx})" class="w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0" style="background: white; color: #DC2626;">
                                <span class="text-lg font-bold">Ã—</span>
                            </button>
                        </div>
                    </div>
                `).join('');
        const sum = myCart.reduce((total, item) => total + item.totalPrice, 0);
        document.getElementById('totalPrice').textContent = `${sum.toFixed(2)} Ø¯.Ø£`;
        form.classList.remove('hidden');
      }
      document.getElementById('cartModal').classList.remove('hidden');
    }

    function deleteCartItem(index) {
      myCart.splice(index, 1);
      refreshCartBadge();
      displayCart();
    }

    function hideCart() {
      document.getElementById('cartModal').classList.add('hidden');
    }

    function selectDelivery() {
      const deliveryBtn = document.getElementById('deliveryBtn');
      const pickupBtn = document.getElementById('pickupBtn');
      const addressField = document.getElementById('addressField');
      deliveryBtn.querySelector('input').checked = true;
      pickupBtn.querySelector('input').checked = false;
      deliveryBtn.style.borderColor = '#DC2626';
      deliveryBtn.style.background = 'white';
      deliveryBtn.querySelector('span').style.color = '#DC2626';
      pickupBtn.style.borderColor = '#E5E7EB';
      pickupBtn.style.background = '#F9FAFB';
      pickupBtn.querySelector('span').style.color = '#6B7280';
      addressField.style.display = 'block';
    }

    function selectPickup() {
      const deliveryBtn = document.getElementById('deliveryBtn');
      const pickupBtn = document.getElementById('pickupBtn');
      const addressField = document.getElementById('addressField');
      deliveryBtn.querySelector('input').checked = false;
      pickupBtn.querySelector('input').checked = true;
      pickupBtn.style.borderColor = '#DC2626';
      pickupBtn.style.background = 'white';
      pickupBtn.querySelector('span').style.color = '#DC2626';
      deliveryBtn.style.borderColor = '#E5E7EB';
      deliveryBtn.style.background = '#F9FAFB';
      deliveryBtn.querySelector('span').style.color = '#6B7280';
      addressField.style.display = 'none';
    }

    function sendWhatsAppOrder() {
      const customerName = document.getElementById('custName').value.trim();
      const customerPhone = document.getElementById('custPhone').value.trim();
      const customerAddress = document.getElementById('custAddress').value.trim();
      const deliveryTypeRadio = document.querySelector('input[name="deliveryType"]:checked');
      const deliveryType = deliveryTypeRadio ? deliveryTypeRadio.value : 'delivery';
      if (!customerName) {
        showMessage('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù…', true);
        return;
      }
      if (!customerPhone) {
        showMessage('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ', true);
        return;
      }
      if (deliveryType === 'delivery' && !customerAddress) {
        showMessage('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„', true);
        return;
      }
      let phoneNum = '0791825625';
      if (window.elementSdk && window.elementSdk.config) {
        phoneNum = window.elementSdk.config.phone_number || phoneNum;
      }
      const orderTotal = myCart.reduce((sum, item) => sum + item.totalPrice, 0);
      const currentDate = new Date();
      const dateStr = currentDate.toLocaleDateString('en-GB');
      const timeStr = currentDate.toLocaleTimeString('en-US', {
        hour: '2-digit',
        minute: '2-digit',
        hour12: true
      });
      const orderNum = Date.now().toString().slice(-6);
      let msg = '*ğŸ” TEXAS BURGER - Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯*\n\n';
      msg += 'ğŸ‘¤ ' + customerName + ' â€¢ ğŸ“± ' + customerPhone + '\n';
      msg += 'ğŸ• ' + dateStr + ' | ' + timeStr + '\n';
      msg += 'ğŸ“¦ ' + (deliveryType === 'delivery' ? 'ØªÙˆØµÙŠÙ„' : 'Ø§Ø³ØªÙ„Ø§Ù… Ù…Ù† Ø§Ù„Ù…Ø·Ø¹Ù…');
      if (deliveryType === 'delivery') {
        msg += '\nğŸ“ ' + customerAddress;
      }
      msg += '\n\n*Ø§Ù„Ø·Ù„Ø¨:*\n';
      myCart.forEach((item, i) => {
        msg += 'â€¢ ' + item.product.name;
        if (item.sizeLabel) {
          msg += ' (' + item.sizeLabel + ')';
        }
        msg += ' â€“ ' + item.totalPrice.toFixed(2) + ' Ø¯.Ø£\n';
        const extras = [];
        if (item.chickenFlavor) {
          extras.push(item.chickenFlavor);
        }
        if (item.twisterFlavor) {
          extras.push(item.twisterFlavor);
        }
        if (item.wingsFlavor) {
          extras.push(item.wingsFlavor);
        }
        if (item.drinkFlavor) {
          extras.push(item.drinkFlavor);
        }
        if (item.extraSauces && item.extraSauces.length > 0) {
          extras.push(item.extraSauces.join(', '));
        }
        if (item.addMeal) {
          extras.push('ÙˆØ¬Ø¨Ø©');
        }
        if (item.addCheese) {
          extras.push('Ø¬Ø¨Ù†Ø©');
        }
        if (item.addSauce) {
          extras.push('ØµÙˆØµ');
        }
        if (item.addDrink) {
          extras.push('Ù…Ø´Ø±ÙˆØ¨');
        }
        if (extras.length > 0) {
          msg += '  Ø¥Ø¶Ø§ÙØ§Øª: ' + extras.join(' â€¢ ') + '\n';
        }
      });
      msg += '\n*ğŸ’° Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ' + orderTotal.toFixed(2) + ' Ø¯ÙŠÙ†Ø§Ø±*\n';
      msg += 'â± Ù…Ø¯Ø© Ø§Ù„ØªØ­Ø¶ÙŠØ±: 15â€“25 Ø¯Ù‚ÙŠÙ‚Ø©\n';
      msg += 'Ø±Ø¬Ø§Ø¡Ù‹ Ø£ÙƒØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ø§Ù„Ø±Ø¯ âœ…\n\n';
      msg += 'Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø®ØªÙŠØ§Ø±Ùƒ Texas Burger ğŸ”';
      const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxV3VJYvyENH8BnM_GLmIA3we0GrXjANQBRtJkQlldRnCT8oaOdNZhvdiDW-bod1ouGag/exec";
      const scriptParams = new URLSearchParams({
        token: 'TB_2026_SECRET',
        name: customerName,
        phone: customerPhone,
        method: deliveryType === 'delivery' ? 'ØªÙˆØµÙŠÙ„' : 'Ø§Ø³ØªÙ„Ø§Ù… Ù…Ù† Ø§Ù„Ù…Ø·Ø¹Ù…',
        address: deliveryType === 'delivery' ? customerAddress : '',
        items: msg,
        total: orderTotal.toFixed(2)
      });
      const scriptFullURL = SCRIPT_URL + '?' + scriptParams.toString();
      const img = new Image();
      img.referrerPolicy = "no-referrer";
      img.src = scriptFullURL;
      const rawPhone = (phoneNum ?? '').toString();
      const cleanPhone = rawPhone.replace(/\D/g, '');
      if (!cleanPhone) {
        showMessage('Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ ØºÙŠØ± Ù…ØªÙˆÙØ±', true);
        return;
      }
      const waNum =
        cleanPhone.startsWith('0') ? ('962' + cleanPhone.substring(1)) :
        cleanPhone.startsWith('962') ? cleanPhone :
        cleanPhone;
      const waURL = 'https://wa.me/' + waNum + '?text=' + encodeURIComponent(msg);
      const link = document.createElement('a');
      link.href = waURL;
      link.target = '_blank';
      link.rel = 'noopener noreferrer';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      myCart = [];
      refreshCartBadge();
      hideCart();
    }
    document.getElementById('openCartBtn').addEventListener('click', displayCart);
    async function onConfigChange(config) {
      const phone = config.phone_number || CONFIG.phone_number;
      document.getElementById('phoneDisplay').textContent = phone;
      document.getElementById('phoneDisplay').href = 'tel:' + phone;
    }
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig: CONFIG,
        onConfigChange: onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (config) => new Map([
          ['phone_number', config.phone_number || CONFIG.phone_number]
        ])
      });
    }
    initDataSDK();
    displayMenu();
  </script>
  <script>
    (function() {
      function c() {
        var b = a.contentDocument || a.contentWindow.document;
        if (b) {
          var d = b.createElement('script');
          d.innerHTML = "window.__CF$cv$params={r:'9c162b10a50bb5da',t:'MTc2ODk5MTc2Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
          b.getElementsByTagName('head')[0].appendChild(d)
        }
      }
      if (document.body) {
        var a = document.createElement('iframe');
        a.height = 1;
        a.width = 1;
        a.style.position = 'absolute';
        a.style.top = 0;
        a.style.left = 0;
        a.style.border = 'none';
        a.style.visibility = 'hidden';
        document.body.appendChild(a);
        if ('loading' !== document.readyState) c();
        else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c);
        else {
          var e = document.onreadystatechange || function() {};
          document.onreadystatechange = function(b) {
            e(b);
            'loading' !== document.readyState && (document.onreadystatechange = e, c())
          }
        }
      }
    })();
  </script>
</body>

</html>
    
  </body>
  
</html>
